"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[813],{8813:function(e,s,r){r.r(s),r.d(s,{default:function(){return m}});var a=r(6252),i=r(3577);const t={class:"page page--cache container"},l={class:"page__title"};function o(e,s,r,o,d,n){const u=(0,a.up)("el-input"),m=(0,a.up)("el-form-item"),h=(0,a.up)("el-descriptions-item"),p=(0,a.up)("el-button"),w=(0,a.up)("el-descriptions"),c=(0,a.up)("el-form"),g=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.iD)("div",t,[(0,a._)("h1",l,(0,i.zw)(e.$t(e.$route.name)),1),(0,a.wy)(((0,a.wg)(),(0,a.j4)(c,{class:"form-login","label-position":"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{direction:"vertical",column:2,border:""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{error:e.errors.email},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{placeholder:"E-mail",modelValue:e.email,"onUpdate:modelValue":s[0]||(s[0]=s=>e.email=s),style:{width:"100%"},type:"email",autocomplete:"on",name:"email"},null,8,["modelValue"])])),_:1},8,["error"])])),_:1}),(0,a.Wm)(h,{width:"200",align:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"primary",onClick:s[1]||(s[1]=s=>e.editEmail())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.$t("Change E-mail")),1)])),_:1})])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{error:e.errors.password},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{placeholder:e.$t("Password"),modelValue:e.password,"onUpdate:modelValue":s[2]||(s[2]=s=>e.password=s),style:{width:"100%"},type:"password",name:"password"},null,8,["placeholder","modelValue"])])),_:1},8,["error"])])),_:1}),(0,a.Wm)(h,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"primary",onClick:s[3]||(s[3]=s=>e.editPassword())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.$t("Change password")),1)])),_:1})])),_:1})])),_:1})])),_:1})),[[g,e.isLoading]])])}var d=(0,a.aZ)({name:"page-user",data(){return{isLoading:!1,email:"",password:"",errors:{email:"",password:""}}},methods:{async editEmail(){if(!this.isLoading){this.isLoading=!0,this.$utils.clearErrors(this.errors,this.errors);try{let e=await this.$api["users"].editEmail({email:this.email});if(e)return void this.$utils.showMessageSuccess({message:this.$t("E-mail updated")})}catch(e){let s=this.$utils.setErrors(this.errors,e.errors);s||this.$utils.showMessageError({message:e.server,errors:e})}finally{this.isLoading=!1}}},async editPassword(){if(!this.isLoading){this.isLoading=!0,this.$utils.clearErrors(this.errors,this.errors);try{let e=await this.$api["users"].editPassword({password:this.password});if(e)return void this.$utils.showMessageSuccess({message:this.$t("Password updated")})}catch(e){let s=this.$utils.setErrors(this.errors,e.errors);s||this.$utils.showMessageError({message:e.server,errors:e})}finally{this.isLoading=!1}}}}}),n=r(3744);const u=(0,n.Z)(d,[["render",o]]);var m=u}}]);
//# sourceMappingURL=813.b3e45691.js.map